#if ( $ctx.error )
  $util.error($ctx.error.message, $ctx.error.type)
#end

#set($myResults = [])
#foreach($item in $context.result.items)
    ##For userpools use $context.identity.username instead
    #if($item.Owner == $context.identity.username)
        #set($added = $myResults.add($item))
    #end
#end

$util.toJson({"Calls": $myResults, "nextToken": $ctx.result.nextToken})